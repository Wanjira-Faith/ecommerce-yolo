{"ast":null,"code":"import _objectSpread from\"/home/wanjira/ecommerce-yolo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/wanjira/ecommerce-yolo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{createSlice}from'@reduxjs/toolkit';var items=localStorage.getItem('cartItems')!==null?JSON.parse(localStorage.getItem('cartItems')):[];var initialState={value:items};export var cartItemsSlice=createSlice({name:'cartItems',initialState:initialState,reducers:{addItem:function addItem(state,action){var newItem=action.payload;var duplicate=state.value.filter(function(e){return e.slug===newItem.slug&&e.color===newItem.color&&e.size===newItem.size;});if(duplicate.length>0){state.value=state.value.filter(function(e){return e.slug!==newItem.slug||e.color!==newItem.color||e.size!==newItem.size;});state.value=[].concat(_toConsumableArray(state.value),[{id:duplicate[0].id,slug:newItem.slug,color:newItem.color,size:newItem.size,price:newItem.price,quantity:newItem.quantity+duplicate[0].quantity}]);}else{state.value=[].concat(_toConsumableArray(state.value),[_objectSpread(_objectSpread({},action.payload),{},{id:state.value.length>0?state.value[state.value.length-1].id+1:1})]);}localStorage.setItem('cartItems',JSON.stringify(state.value.sort(function(a,b){return a.id>b.id?1:a.id<b.id?-1:0;})));},updateItem:function updateItem(state,action){var newItem=action.payload;var item=state.value.filter(function(e){return e.slug===newItem.slug&&e.color===newItem.color&&e.size===newItem.size;});if(item.length>0){state.value=state.value.filter(function(e){return e.slug!==newItem.slug||e.color!==newItem.color||e.size!==newItem.size;});state.value=[].concat(_toConsumableArray(state.value),[{id:item[0].id,slug:newItem.slug,color:newItem.color,size:newItem.size,price:newItem.price,quantity:newItem.quantity}]);}localStorage.setItem('cartItems',JSON.stringify(state.value.sort(function(a,b){return a.id>b.id?1:a.id<b.id?-1:0;})));},removeItem:function removeItem(state,action){var item=action.payload;state.value=state.value.filter(function(e){return e.slug!==item.slug||e.color!==item.color||e.size!==item.size;});localStorage.setItem('cartItems',JSON.stringify(state.value.sort(function(a,b){return a.id>b.id?1:a.id<b.id?-1:0;})));}}});// Action creators are generated for each case reducer function\nvar _cartItemsSlice$actio=cartItemsSlice.actions,addItem=_cartItemsSlice$actio.addItem,removeItem=_cartItemsSlice$actio.removeItem,updateItem=_cartItemsSlice$actio.updateItem;export{addItem,removeItem,updateItem};export default cartItemsSlice.reducer;","map":{"version":3,"sources":["/home/wanjira/ecommerce-yolo/src/redux/shopping-cart/cartItemsSlide.js"],"names":["createSlice","items","localStorage","getItem","JSON","parse","initialState","value","cartItemsSlice","name","reducers","addItem","state","action","newItem","payload","duplicate","filter","e","slug","color","size","length","id","price","quantity","setItem","stringify","sort","a","b","updateItem","item","removeItem","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nconst items = localStorage.getItem('cartItems') !== null ? JSON.parse(localStorage.getItem('cartItems')) : []\n\nconst initialState = {\n    value: items,\n}\n\nexport const cartItemsSlice = createSlice({\n    name: 'cartItems',\n    initialState,\n    reducers: {\n        addItem: (state, action) => {\n            const newItem = action.payload\n            const duplicate = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size)\n            if (duplicate.length > 0) {\n                state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size)\n                state.value = [...state.value, {\n                    id: duplicate[0].id,\n                    slug: newItem.slug,\n                    color: newItem.color,\n                    size: newItem.size,\n                    price: newItem.price,\n                    quantity: newItem.quantity + duplicate[0].quantity\n                }]\n            } else {\n                state.value = [...state.value, {\n                    ...action.payload,\n                    id: state.value.length > 0 ? state.value[state.value.length - 1].id + 1 : 1\n                }]\n            }\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\n        },\n        updateItem: (state, action) => {\n            const newItem = action.payload\n            const item = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size)\n            if (item.length > 0) {\n                state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size)\n                state.value = [...state.value, {\n                    id: item[0].id,\n                    slug: newItem.slug,\n                    color: newItem.color,\n                    size: newItem.size,\n                    price: newItem.price,\n                    quantity: newItem.quantity\n                }]\n            }\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\n        },\n        removeItem: (state, action) => {\n            const item = action.payload\n            state.value = state.value.filter(e => e.slug !== item.slug || e.color !== item.color || e.size !== item.size)\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\n        },\n    },\n})\n\n// Action creators are generated for each case reducer function\nexport const { addItem, removeItem, updateItem } = cartItemsSlice.actions\n\nexport default cartItemsSlice.reducer"]},"metadata":{},"sourceType":"module"}