{"ast":null,"code":"import _objectSpread from\"/home/wanjira/ecommerce-yolo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/wanjira/ecommerce-yolo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import{useDispatch}from'react-redux';import{updateItem,removeItem}from'../redux/shopping-cart/cartItemsSlide';import numberWithCommas from'../utils/numberWithCommas';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartItem=function CartItem(props){var dispatch=useDispatch();var itemRef=useRef(null);var _useState=useState(props.item),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useState3=useState(props.item.quantity),_useState4=_slicedToArray(_useState3,2),quantity=_useState4[0],setQuantity=_useState4[1];useEffect(function(){setItem(props.item);setQuantity(props.item.quantity);},[props.item]);var updateQuantity=function updateQuantity(opt){if(opt==='+'){dispatch(updateItem(_objectSpread(_objectSpread({},item),{},{quantity:quantity+1})));}if(opt==='-'){dispatch(updateItem(_objectSpread(_objectSpread({},item),{},{quantity:quantity-1===0?1:quantity-1})));}};// const updateCartItem = () => {\n//     dispatch(updateItem({...item, quantity: quantity}))\n// }\nvar removeCartItem=function removeCartItem(){console.log('removeCartItem');dispatch(removeItem(item));};return/*#__PURE__*/_jsxs(\"div\",{className:\"cart__item\",ref:itemRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart__item__image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.product.image01,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart__item__info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart__item__info__name\",children:/*#__PURE__*/_jsx(Link,{to:\"/catalog/\".concat(item.slug),children:\"\".concat(item.product.title,\" - \").concat(item.color,\" - \").concat(item.size)})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart__item__info__price\",children:numberWithCommas(item.price)}),/*#__PURE__*/_jsx(\"div\",{className:\"cart__item__info__quantity\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product__info__item__quantity\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product__info__item__quantity__btn\",onClick:function onClick(){return updateQuantity('-');},children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-minus\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"product__info__item__quantity__input\",children:quantity}),/*#__PURE__*/_jsx(\"div\",{className:\"product__info__item__quantity__btn\",onClick:function onClick(){return updateQuantity('+');},children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-plus\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart__item__del\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-trash\",onClick:function onClick(){return removeCartItem();}})})]})]});};export default CartItem;","map":{"version":3,"sources":["/home/wanjira/ecommerce-yolo/src/components/CartItem.jsx"],"names":["React","useState","useRef","useEffect","useDispatch","updateItem","removeItem","numberWithCommas","Link","CartItem","props","dispatch","itemRef","item","setItem","quantity","setQuantity","updateQuantity","opt","removeCartItem","console","log","product","image01","slug","title","color","size","price"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { useDispatch } from 'react-redux'\nimport { updateItem, removeItem } from '../redux/shopping-cart/cartItemsSlide'\n\nimport numberWithCommas from '../utils/numberWithCommas'\nimport { Link } from 'react-router-dom'\n\nconst CartItem = props => {\n\n    const dispatch = useDispatch()\n\n    const itemRef = useRef(null)\n\n    const [item, setItem] = useState(props.item)\n    const [quantity, setQuantity] = useState(props.item.quantity)\n\n    useEffect(() => {\n        setItem(props.item)\n        setQuantity(props.item.quantity)\n    }, [props.item])\n\n    const updateQuantity = (opt) => {\n        if (opt === '+') {\n            dispatch(updateItem({...item, quantity: quantity + 1}))\n        }\n        if (opt === '-') {\n            dispatch(updateItem({...item, quantity: quantity - 1 === 0 ? 1 : quantity - 1}))\n        }\n    }\n\n    // const updateCartItem = () => {\n    //     dispatch(updateItem({...item, quantity: quantity}))\n    // }\n\n    const removeCartItem = () => {\n        console.log('removeCartItem')\n        dispatch(removeItem(item))\n    }\n\n    return (\n        <div className=\"cart__item\" ref={itemRef}>\n            <div className=\"cart__item__image\">\n                <img src={item.product.image01} alt=\"\" />\n            </div>\n            <div className=\"cart__item__info\">\n                <div className=\"cart__item__info__name\">\n                    <Link to={`/catalog/${item.slug}`}>\n                        {`${item.product.title} - ${item.color} - ${item.size}`}\n                    </Link>\n                </div>\n                <div className=\"cart__item__info__price\">\n                    {numberWithCommas(item.price)}\n                </div>\n                <div className=\"cart__item__info__quantity\">\n                    <div className=\"product__info__item__quantity\">\n                        <div className=\"product__info__item__quantity__btn\" onClick={() => updateQuantity('-')}>\n                            <i className=\"bx bx-minus\"></i>\n                        </div>\n                        <div className=\"product__info__item__quantity__input\">\n                            {quantity}\n                        </div>\n                        <div className=\"product__info__item__quantity__btn\" onClick={() => updateQuantity('+')}>\n                            <i className=\"bx bx-plus\"></i>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"cart__item__del\">\n                    <i className='bx bx-trash' onClick={() => removeCartItem()}></i>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nCartItem.propTypes = {\n    item: PropTypes.object\n}\n\nexport default CartItem\n"]},"metadata":{},"sourceType":"module"}