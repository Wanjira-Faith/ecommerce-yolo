{"ast":null,"code":"import _toConsumableArray from\"/home/wanjira/ecommerce-yolo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/wanjira/ecommerce-yolo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/wanjira/ecommerce-yolo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useState,useEffect,useRef}from'react';import Helmet from'../components/Helmet';import CheckBox from'../components/CheckBox';import productData from'../assets/fake-data/products';import category from'../assets/fake-data/category';import colors from'../assets/fake-data/product-color';import size from'../assets/fake-data/product-size';import Button from'../components/Button';import InfinityList from'../components/InfinityList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Catalog=function Catalog(){var initFilter={category:[],color:[],size:[]};var productList=productData.getAllProducts();var _useState=useState(productList),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(initFilter),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var filterSelect=function filterSelect(type,checked,item){if(checked){switch(type){case\"CATEGORY\":setFilter(_objectSpread(_objectSpread({},filter),{},{category:[].concat(_toConsumableArray(filter.category),[item.categorySlug])}));break;case\"COLOR\":setFilter(_objectSpread(_objectSpread({},filter),{},{color:[].concat(_toConsumableArray(filter.color),[item.color])}));break;case\"SIZE\":setFilter(_objectSpread(_objectSpread({},filter),{},{size:[].concat(_toConsumableArray(filter.size),[item.size])}));break;default:}}else{switch(type){case\"CATEGORY\":var newCategory=filter.category.filter(function(e){return e!==item.categorySlug;});setFilter(_objectSpread(_objectSpread({},filter),{},{category:newCategory}));break;case\"COLOR\":var newColor=filter.color.filter(function(e){return e!==item.color;});setFilter(_objectSpread(_objectSpread({},filter),{},{color:newColor}));break;case\"SIZE\":var newSize=filter.size.filter(function(e){return e!==item.size;});setFilter(_objectSpread(_objectSpread({},filter),{},{size:newSize}));break;default:}}};var clearFilter=function clearFilter(){return setFilter(initFilter);};var updateProducts=useCallback(function(){var temp=productList;if(filter.category.length>0){temp=temp.filter(function(e){return filter.category.includes(e.categorySlug);});}if(filter.color.length>0){temp=temp.filter(function(e){var check=e.colors.find(function(color){return filter.color.includes(color);});return check!==undefined;});}if(filter.size.length>0){temp=temp.filter(function(e){if(Array.isArray(e.size)){var check=e.size.find(function(size){return filter.size.includes(size);});return check!==undefined;}return false;});}setProducts(temp);},[filter,productList]);useEffect(function(){updateProducts();},[updateProducts]);var filterRef=useRef(null);var showHideFilter=function showHideFilter(){return filterRef.current.classList.toggle('active');};return/*#__PURE__*/_jsx(Helmet,{title:\"Products\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"catalog\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"catalog__filter\",ref:filterRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__close\",onClick:function onClick(){return showHideFilter();},children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-left-arrow-alt\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"catalog__filter__widget\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__widget__title\",children:\"Product Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__widget__content\",children:category.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__widget__content__item\",children:/*#__PURE__*/_jsx(CheckBox,{label:item.display,onChange:function onChange(input){return filterSelect(\"CATEGORY\",input.checked,item);},checked:filter.category.includes(item.categorySlug)})},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"catalog__filter__widget\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__widget__title\",children:\"Colors\"}),/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__widget__content\",children:colors.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__widget__content__item\",children:/*#__PURE__*/_jsx(CheckBox,{label:item.display,onChange:function onChange(input){return filterSelect(\"COLOR\",input.checked,item);},checked:filter.color.includes(item.color)})},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"catalog__filter__widget\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__widget__title\",children:\"Sizes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__widget__content\",children:size.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__widget__content__item\",children:/*#__PURE__*/_jsx(CheckBox,{label:item.display,onChange:function onChange(input){return filterSelect(\"SIZE\",input.checked,item);},checked:filter.size.includes(item.size)})},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__widget\",children:/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__widget__content\",children:/*#__PURE__*/_jsx(Button,{size:\"sm\",onClick:clearFilter,children:\"Clear Filters\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"catalog__filter__toggle\",children:/*#__PURE__*/_jsx(Button,{size:\"sm\",onClick:function onClick(){return showHideFilter();},children:\"Filters\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"catalog__content\",children:/*#__PURE__*/_jsx(InfinityList,{data:products})})]})});};export default Catalog;","map":{"version":3,"sources":["/home/wanjira/ecommerce-yolo/src/pages/Catalog.jsx"],"names":["React","useCallback","useState","useEffect","useRef","Helmet","CheckBox","productData","category","colors","size","Button","InfinityList","Catalog","initFilter","color","productList","getAllProducts","products","setProducts","filter","setFilter","filterSelect","type","checked","item","categorySlug","newCategory","e","newColor","newSize","clearFilter","updateProducts","temp","length","includes","check","find","undefined","Array","isArray","filterRef","showHideFilter","current","classList","toggle","map","index","display","input"],"mappings":"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","sourcesContent":["import React, { useCallback, useState, useEffect, useRef } from 'react'\n\nimport Helmet from '../components/Helmet'\nimport CheckBox from '../components/CheckBox'\n\nimport productData from '../assets/fake-data/products'\nimport category from '../assets/fake-data/category'\nimport colors from '../assets/fake-data/product-color'\nimport size from '../assets/fake-data/product-size'\nimport Button from '../components/Button'\nimport InfinityList from '../components/InfinityList'\n\nconst Catalog = () => {\n\n    const initFilter = {\n        category: [],\n        color: [],\n        size: []\n    }\n\n    const productList = productData.getAllProducts()\n\n    const [products, setProducts] = useState(productList)\n\n    const [filter, setFilter] = useState(initFilter)\n\n    const filterSelect = (type, checked, item) => {\n        if (checked) {\n            switch(type) {\n                case \"CATEGORY\":\n                    setFilter({...filter, category: [...filter.category, item.categorySlug]})\n                    break\n                case \"COLOR\":\n                    setFilter({...filter, color: [...filter.color, item.color]})\n                    break\n                case \"SIZE\":\n                    setFilter({...filter, size: [...filter.size, item.size]})\n                    break\n                default:\n            }\n        } else {\n            switch(type) {\n                case \"CATEGORY\":\n                    const newCategory = filter.category.filter(e => e !== item.categorySlug)\n                    setFilter({...filter, category: newCategory})\n                    break\n                case \"COLOR\":\n                    const newColor = filter.color.filter(e => e !== item.color)\n                    setFilter({...filter, color: newColor})\n                    break\n                case \"SIZE\":\n                    const newSize = filter.size.filter(e => e !== item.size)\n                    setFilter({...filter, size: newSize})\n                    break\n                default:\n            }\n        }\n    }\n\n    const clearFilter = () => setFilter(initFilter)\n\n    const updateProducts = useCallback(\n        () => {\n            let temp = productList\n\n            if (filter.category.length > 0) {\n                temp = temp.filter(e => filter.category.includes(e.categorySlug))\n            }\n\n            if (filter.color.length > 0) {\n                temp = temp.filter(e => {\n                    const check = e.colors.find(color => filter.color.includes(color))\n                    return check !== undefined\n                })\n            }\n\n            if (filter.size.length > 0) {\n                temp = temp.filter(e => {\n                    if (Array.isArray(e.size)) {\n                        const check = e.size.find(size => filter.size.includes(size))\n                        return check !== undefined;\n                    }\n                    return false;\n                })\n            }\n\n            setProducts(temp)\n        },\n        [filter, productList],\n    )\n\n    useEffect(() => {\n        updateProducts()\n    }, [updateProducts])\n\n    const filterRef = useRef(null)\n\n    const showHideFilter = () => filterRef.current.classList.toggle('active')\n\n    return (\n        <Helmet title=\"Products\">\n            <div className=\"catalog\">\n                <div className=\"catalog__filter\" ref={filterRef}>\n                    <div className=\"catalog__filter__close\" onClick={() => showHideFilter()}>\n                        <i className=\"bx bx-left-arrow-alt\"></i>\n                    </div>\n                    <div className=\"catalog__filter__widget\">\n                        <div className=\"catalog__filter__widget__title\">\n                            Product Categories\n                        </div>\n                        <div className=\"catalog__filter__widget__content\">\n                            {\n                                category.map((item, index) => (\n                                    <div key={index} className=\"catalog__filter__widget__content__item\">\n                                        <CheckBox\n                                            label={item.display}\n                                            onChange={(input) => filterSelect(\"CATEGORY\", input.checked, item)}\n                                            checked={filter.category.includes(item.categorySlug)}\n                                        />\n                                    </div>\n                                ))\n                            }\n                        </div>\n                    </div>\n\n                    <div className=\"catalog__filter__widget\">\n                        <div className=\"catalog__filter__widget__title\">\n                            Colors\n                        </div>\n                        <div className=\"catalog__filter__widget__content\">\n                            {\n                                colors.map((item, index) => (\n                                    <div key={index} className=\"catalog__filter__widget__content__item\">\n                                        <CheckBox\n                                            label={item.display}\n                                            onChange={(input) => filterSelect(\"COLOR\", input.checked, item)}\n                                            checked={filter.color.includes(item.color)}\n                                        />\n                                    </div>\n                                ))\n                            }\n                        </div>\n                    </div>\n\n                    <div className=\"catalog__filter__widget\">\n                        <div className=\"catalog__filter__widget__title\">\n                            Sizes\n                        </div>\n                        <div className=\"catalog__filter__widget__content\">\n                            {\n                                size.map((item, index) => (\n                                    <div key={index} className=\"catalog__filter__widget__content__item\">\n                                        <CheckBox\n                                            label={item.display}\n                                            onChange={(input) => filterSelect(\"SIZE\", input.checked, item)}\n                                            checked={filter.size.includes(item.size)}\n                                        />\n                                    </div>\n                                ))\n                            }\n                        </div>\n                    </div>\n\n                    <div className=\"catalog__filter__widget\">\n                        <div className=\"catalog__filter__widget__content\">\n                            <Button size=\"sm\" onClick={clearFilter}>Clear Filters</Button>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"catalog__filter__toggle\">\n                    <Button size=\"sm\" onClick={() => showHideFilter()}>Filters</Button>\n                </div>\n                <div className=\"catalog__content\">\n                    <InfinityList\n                        data={products}\n                    />\n                </div>\n            </div>\n        </Helmet>\n    )\n}\n\nexport default Catalog\n"]},"metadata":{},"sourceType":"module"}